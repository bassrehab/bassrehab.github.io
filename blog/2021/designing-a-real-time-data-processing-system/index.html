<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="R3nPzqP9nO2aTgysGUiU3t-pw3wi1xuUuKVaMrimuck"> <meta name="msvalidate.01" content="04fec5e0d64b1c9bc788e98f81ee2a78"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Designing a Real Time Data Processing System | Subhadip Mitra </title> <meta name="author" content="Subhadip Mitra"> <meta name="description" content="Master real-time data processing - A guide to designing scalable, resilient, and high-performance systems for instant insights."> <meta name="keywords" content="subhadip-mitra,subhadip,google,google-cloud,data-&amp;-analytics,ai-innovations,enterprise-technology-leadership,digital-transformation,machine-learning-models,cloud-technologies,quantum-computing,technology-consulting,singapore,researcher,llm,genai"> <meta property="og:site_name" content="Subhadip Mitra"> <meta property="og:type" content="article"> <meta property="og:title" content="Subhadip Mitra | Designing a Real Time Data Processing System"> <meta property="og:url" content="https://subhadipmitra.com/blog/2021/designing-a-real-time-data-processing-system/"> <meta property="og:description" content="Master real-time data processing - A guide to designing scalable, resilient, and high-performance systems for instant insights."> <meta property="og:image" content="/assets/img/social_preview.png"> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Designing a Real Time Data Processing System"> <meta name="twitter:description" content="Master real-time data processing - A guide to designing scalable, resilient, and high-performance systems for instant insights."> <meta name="twitter:image" content="/assets/img/social_preview.png"> <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Subhadip Mitra"
        },
        "url": "https://subhadipmitra.com/blog/2021/designing-a-real-time-data-processing-system/",
        "@type": "BlogPosting",
        "description": "Master real-time data processing - A guide to designing scalable, resilient, and high-performance systems for instant insights.",
        "headline": "Designing a Real Time Data Processing System",
        
        "name": "Subhadip Mitra",
        "@context": "https://schema.org"
    }
  </script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&amp;family=Inter+Tight:ital,wght@0,100..900;1,100..900&amp;family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="/assets/img/favicon.png?058310854f7b3c920f894a1d42c3c47b"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://subhadipmitra.com/blog/2021/designing-a-real-time-data-processing-system/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Subhadip</span> Mitra </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/now/">now </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">more </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/archive/">archive</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/contact/">contact</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/license/">licenses</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/privacy/">privacy</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="https://upir.subhadipmitra.com" rel="external nofollow noopener" target="_blank">docs: UPIR</a> <a class="dropdown-item " href="https://ai-metacognition-toolkit.subhadipmitra.com/" rel="external nofollow noopener" target="_blank">docs: AI Metacognition</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Designing a Real Time Data Processing System</h1> <p class="post-meta"> Created on January 16, 2021 </p> <p class="post-tags"> <a href="/blog/2021"> <i class="fa-solid fa-calendar fa-sm"></i> 2021 </a>   ·   <a href="/blog/tag/system-design"> <i class="fa-solid fa-hashtag fa-sm"></i> system-design</a>   ·   <a href="/blog/category/system-design"> <i class="fa-solid fa-tag fa-sm"></i> system-design</a>   <a href="/blog/category/platform"> <i class="fa-solid fa-tag fa-sm"></i> platform</a> </p> </header> <div class="audio-reader-container"> <div class="audio-reader-compact"> <button class="audio-trigger" id="audio-trigger" aria-label="Open audio player"> <i class="fas fa-headphones"></i> <span>Listen to article</span> <i class="fas fa-chevron-down audio-trigger-icon"></i> </button> <div class="audio-player-expanded" id="audio-player-expanded"> <div class="audio-player-body"> <div class="audio-info-bar"> <i class="fas fa-info-circle"></i> <span>Browser text-to-speech • Quality varies by device</span> </div> <div class="audio-controls-row"> <button class="audio-btn audio-btn-play" id="tts-play" aria-label="Play"> <i class="fas fa-play"></i> <span id="play-text">Play</span> </button> <button class="audio-btn audio-btn-pause" id="tts-pause" style="display: none;" aria-label="Pause"> <i class="fas fa-pause"></i> <span>Pause</span> </button> <button class="audio-btn audio-btn-stop" id="tts-stop" aria-label="Stop"> <i class="fas fa-stop"></i> </button> <div class="audio-speed-control"> <label for="tts-rate" class="audio-speed-label"> <i class="fas fa-gauge-high"></i> <span id="tts-rate-value">1.0x</span> </label> <input id="tts-rate" type="range" min="0.5" max="2" step="0.1" value="1" class="audio-speed-slider"> </div> </div> <div class="audio-voice-row"> <label for="tts-voice" class="audio-voice-label"> <i class="fas fa-microphone"></i> <span>Voice:</span> </label> <select id="tts-voice" class="audio-voice-select"> <option value="">Loading voices...</option> </select> </div> <div class="audio-progress-section"> <div class="audio-progress-info"> <span><i class="fas fa-circle-notch"></i> Progress</span> <span id="tts-progress">0%</span> </div> <div class="progress" style="height: 4px;"> <div class="progress-bar" id="tts-progress-bar" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div> </div> </div> </div> </div> </div> </div> <style>.audio-reader-container{margin:1.5rem 0;font-family:var(--global-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif)}.audio-reader-compact{position:relative}.audio-trigger{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:var(--global-code-bg-color,#f8f9fa);border:1px solid var(--global-divider-color,#dee2e6);border-radius:.375rem;color:var(--global-text-color,#212529);font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;font-family:inherit}.audio-trigger:hover{background:var(--global-bg-color,#fff);border-color:var(--global-theme-color,#0d6efd);color:var(--global-theme-color,#0d6efd);box-shadow:0 .125rem .25rem rgba(0,0,0,0.075)}.audio-trigger i:first-child{font-size:1rem;color:var(--global-theme-color,#0d6efd)}.audio-trigger-icon{font-size:.75rem;margin-left:.25rem;transition:transform .3s ease;color:var(--global-text-color-light,#6c757d)}.audio-trigger.active .audio-trigger-icon{transform:rotate(180deg)}.audio-trigger:focus{outline:2px solid var(--global-theme-color,#0d6efd);outline-offset:2px}.audio-player-expanded{display:none;margin-top:.75rem;background:var(--global-bg-color,#fff);border:1px solid var(--global-divider-color,#dee2e6);border-radius:.5rem;box-shadow:0 .25rem .75rem rgba(0,0,0,0.05);animation:slideDown .3s ease}.audio-player-expanded.show{display:block}@keyframes slideDown{from{opacity:0;transform:translateY(-0.5rem)}to{opacity:1;transform:translateY(0)}}.audio-player-body{padding:1rem}.audio-info-bar{display:flex;align-items:center;gap:.5rem;padding:.625rem .75rem;background:var(--global-code-bg-color,#f8f9fa);border-left:2px solid var(--global-theme-color,#0d6efd);border-radius:.25rem;font-size:.8125rem;color:var(--global-text-color-light,#6c757d);margin-bottom:1rem}.audio-info-bar i{color:var(--global-theme-color,#0d6efd);font-size:.875rem}.audio-controls-row{display:flex;align-items:center;gap:.5rem;margin-bottom:.875rem;flex-wrap:wrap}.audio-btn{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .875rem;border:1px solid transparent;border-radius:.375rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .15s ease;font-family:inherit;color:#fff}.audio-btn i{font-size:.8125rem}.audio-btn span{color:#fff}.audio-btn:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 .125rem .375rem rgba(0,0,0,0.15)}.audio-btn:active:not(:disabled){transform:translateY(0)}.audio-btn:disabled{opacity:.6;cursor:not-allowed}.audio-btn-play{background:var(--global-theme-color,#0d6efd);border-color:var(--global-theme-color,#0d6efd)}.audio-btn-play:hover:not(:disabled){background:color-mix(in srgb,var(--global-theme-color,#0d6efd) 85%,black);border-color:color-mix(in srgb,var(--global-theme-color,#0d6efd) 80%,black)}.audio-btn-play.playing{background:#198754;border-color:#198754}.audio-btn-pause{background:#6c757d;border-color:#6c757d}.audio-btn-pause:hover:not(:disabled){background:#5c636a;border-color:#565e64}.audio-btn-stop{background:transparent;color:#dc3545;border-color:#dc3545;padding:.375rem .625rem}.audio-btn-stop:hover:not(:disabled){background:#dc3545;color:#fff;border-color:#dc3545}.audio-speed-control{display:flex;align-items:center;gap:.5rem;margin-left:auto}.audio-speed-label{display:flex;align-items:center;gap:.375rem;font-size:.8125rem;font-weight:500;color:var(--global-text-color,#212529);margin:0;white-space:nowrap}.audio-speed-label i{color:var(--global-theme-color,#0d6efd);font-size:.875rem}.audio-speed-slider{width:80px;height:4px;-webkit-appearance:none;appearance:none;background:var(--global-divider-color,#dee2e6);border-radius:2px;outline:0}.audio-speed-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:14px;height:14px;border-radius:50%;background:var(--global-theme-color,#0d6efd);cursor:pointer;transition:transform .15s ease}.audio-speed-slider::-webkit-slider-thumb:hover{transform:scale(1.2)}.audio-speed-slider::-moz-range-thumb{width:14px;height:14px;border-radius:50%;background:var(--global-theme-color,#0d6efd);border:0;cursor:pointer;transition:transform .15s ease}.audio-speed-slider::-moz-range-thumb:hover{transform:scale(1.2)}.audio-voice-row{display:flex;align-items:center;gap:.75rem;margin-bottom:.875rem}.audio-voice-label{display:flex;align-items:center;gap:.375rem;font-size:.8125rem;font-weight:500;color:var(--global-text-color,#212529);margin:0;white-space:nowrap}.audio-voice-label i{color:var(--global-theme-color,#0d6efd);font-size:.875rem}.audio-voice-select{flex:1;padding:.375rem .75rem;border:1px solid var(--global-divider-color,#dee2e6);border-radius:.375rem;font-size:.8125rem;background:var(--global-bg-color,#fff);color:var(--global-text-color,#212529);cursor:pointer;transition:border-color .15s ease}.audio-voice-select:hover{border-color:var(--global-theme-color,#0d6efd)}.audio-voice-select:focus{outline:0;border-color:var(--global-theme-color,#0d6efd);box-shadow:0 0 0 .2rem rgba(13,110,253,0.25)}.audio-progress-section{margin-top:.75rem;padding-top:.75rem;border-top:1px solid var(--global-divider-color,#e9ecef)}
.audio-progress-info{display:flex;justify-content:space-between;align-items:center;font-size:.8125rem;color:var(--global-text-color-light,#6c757d);margin-bottom:.5rem}.audio-progress-info i{margin-right:.25rem;color:var(--global-theme-color,#0d6efd);font-size:.75rem}.progress{border-radius:2px;overflow:hidden;background:var(--global-divider-color,#e9ecef)}.progress-bar{background:var(--global-theme-color,#0d6efd);transition:width .6s ease}[data-theme="dark"] .audio-trigger,body.dark-mode .audio-trigger{background:rgba(255,255,255,0.05);border-color:var(--global-divider-color,#454545);color:var(--global-text-color,#e9ecef)}[data-theme="dark"] .audio-trigger:hover,body.dark-mode .audio-trigger:hover{background:rgba(255,255,255,0.08)}[data-theme="dark"] .audio-player-expanded,body.dark-mode .audio-player-expanded{background:var(--global-bg-color,#1e1e1e);border-color:var(--global-divider-color,#454545)}[data-theme="dark"] .audio-info-bar,body.dark-mode .audio-info-bar{background:rgba(255,255,255,0.03)}[data-theme="dark"] .audio-voice-select,body.dark-mode .audio-voice-select{background:var(--global-bg-color,#1e1e1e);border-color:var(--global-divider-color,#454545);color:var(--global-text-color,#e9ecef)}[data-theme="dark"] .progress,body.dark-mode .progress{background:rgba(255,255,255,0.1)}@media(max-width:576px){.audio-trigger span{display:none}.audio-controls-row{flex-wrap:wrap}.audio-btn span{display:none}.audio-btn{padding:.5rem .75rem}.audio-btn i{font-size:1rem}.audio-speed-control{width:100%;margin-left:0;margin-top:.5rem}.audio-speed-slider{flex:1}.audio-voice-row{flex-direction:column;align-items:stretch}}@media print{.audio-reader-container{display:none!important}}@media(prefers-reduced-motion:reduce){.audio-trigger,.audio-btn,.progress-bar,.audio-player-expanded{transition:none;animation:none}}</style> <script>
(function() {
  'use strict';
  
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
  
  function init() {
    if (!('speechSynthesis' in window)) {
      document.querySelector('.audio-reader-container').innerHTML = `
        <div class="audio-reader-compact">
          <div class="alert alert-warning d-flex align-items-center" role="alert" style="font-size: 0.875rem;">
            <i class="fas fa-exclamation-triangle me-2"></i>
            <div>Text-to-speech not supported in this browser.</div>
          </div>
        </div>
      `;
      return;
    }

    const synth = window.speechSynthesis;
    let utterance = null;
    let isPaused = false;
    
    const triggerBtn = document.getElementById('audio-trigger');
    const expandedPlayer = document.getElementById('audio-player-expanded');
    const playBtn = document.getElementById('tts-play');
    const pauseBtn = document.getElementById('tts-pause');
    const stopBtn = document.getElementById('tts-stop');
    const voiceSelect = document.getElementById('tts-voice');
    const rateSlider = document.getElementById('tts-rate');
    const rateValue = document.getElementById('tts-rate-value');
    const progressText = document.getElementById('tts-progress');
    const progressBar = document.getElementById('tts-progress-bar');
    const playText = document.getElementById('play-text');

    const possibleSelectors = [
      '.post-content',
      'article .post-content',
      '.post .post-content',
      'article.post',
      '.post',
      'article',
      'main article',
      'main .container',
      'main',
      '.l-main',
      '.content'
    ];
    
    let articleElement = null;
    for (const selector of possibleSelectors) {
      articleElement = document.querySelector(selector);
      if (articleElement) break;
    }
    
    if (!articleElement) {
      console.warn('Audio Reader: Could not find article content');
      return;
    }
    
    const clonedContent = articleElement.cloneNode(true);
    const elementsToRemove = [
      'pre', 'code', 'script', 'style', 'nav', '.audio-reader-container',
      '.citation', '.giscus', '.utterances', '.navigation', '.pagination',
      '.social', '.share', 'header', 'footer', '.header', '.footer', '.sidebar'
    ];
    
    elementsToRemove.forEach(selector => {
      clonedContent.querySelectorAll(selector).forEach(el => el.remove());
    });
    
    const articleText = clonedContent.innerText
      .replace(/\s+/g, ' ')
      .replace(/\n{3,}/g, '\n\n')
      .trim();
    
    if (!articleText || articleText.length < 100) {
      console.warn('Audio Reader: Article too short');
      return;
    }

    // Toggle player
    triggerBtn.addEventListener('click', function() {
      expandedPlayer.classList.toggle('show');
      this.classList.toggle('active');
      localStorage.setItem('audioPlayerExpanded', expandedPlayer.classList.contains('show'));
    });

    // Load voices
    function loadVoices() {
      const voices = synth.getVoices();
      if (voices.length === 0) {
        setTimeout(loadVoices, 100);
        return;
      }
      
      voiceSelect.innerHTML = '<option value="">Default Voice</option>';
      
      const englishVoices = voices.filter(v => v.lang.startsWith('en'));
      const preferredVoices = englishVoices.filter(v => 
        v.name.includes('Google') || v.name.includes('Microsoft') ||
        v.name.includes('Premium') || v.name.includes('Enhanced') || v.name.includes('Natural')
      );
      const standardEnglishVoices = englishVoices.filter(v => !preferredVoices.includes(v));
      const otherVoices = voices.filter(v => !v.lang.startsWith('en'));
      
      preferredVoices.forEach((voice) => {
        const option = document.createElement('option');
        option.value = voices.indexOf(voice);
        option.textContent = `${voice.name} (${voice.lang})`;
        voiceSelect.appendChild(option);
      });
      
      if (standardEnglishVoices.length > 0) {
        const optgroup = document.createElement('optgroup');
        optgroup.label = 'Other English';
        standardEnglishVoices.forEach((voice) => {
          const option = document.createElement('option');
          option.value = voices.indexOf(voice);
          option.textContent = `${voice.name} (${voice.lang})`;
          optgroup.appendChild(option);
        });
        voiceSelect.appendChild(optgroup);
      }
      
      if (otherVoices.length > 0) {
        const optgroup = document.createElement('optgroup');
        optgroup.label = 'Other Languages';
        otherVoices.forEach((voice) => {
          const option = document.createElement('option');
          option.value = voices.indexOf(voice);
          option.textContent = `${voice.name} (${voice.lang})`;
          optgroup.appendChild(option);
        });
        voiceSelect.appendChild(optgroup);
      }
    }

    loadVoices();
    if (synth.addEventListener) {
      synth.addEventListener('voiceschanged', loadVoices);
    }

    function updateProgress(current, total) {
      const percent = Math.min(100, Math.round((current / total) * 100));
      progressText.textContent = `${percent}%`;
      progressBar.style.width = `${percent}%`;
      progressBar.setAttribute('aria-valuenow', percent);
    }

    function updatePlayButton(isPlaying) {
      const icon = playBtn.querySelector('i');
      if (isPlaying) {
        icon.className = 'fas fa-circle-dot';
        playText.textContent = 'Playing';
        playBtn.classList.add('playing');
      } else {
        icon.className = 'fas fa-play';
        playText.textContent = 'Play';
        playBtn.classList.remove('playing');
      }
    }

    function speak() {
      if (isPaused) {
        synth.resume();
        isPaused = false;
        updatePlayButton(true);
        pauseBtn.style.display = 'inline-flex';
        return;
      }

      synth.cancel();
      utterance = new SpeechSynthesisUtterance(articleText);
      
      if (voiceSelect.value) {
        const voices = synth.getVoices();
        utterance.voice = voices[parseInt(voiceSelect.value)];
      }
      
      utterance.rate = parseFloat(rateSlider.value);
      utterance.pitch = 1;
      utterance.volume = 1;
      
      utterance.onstart = function() {
        updatePlayButton(true);
        pauseBtn.style.display = 'inline-flex';
        playBtn.disabled = false;
      };
      
      utterance.onend = function() {
        updatePlayButton(false);
        pauseBtn.style.display = 'none';
        updateProgress(100, 100);
        setTimeout(() => updateProgress(0, 100), 1000);
      };
      
      utterance.onboundary = function(event) {
        updateProgress(event.charIndex, articleText.length);
      };

      utterance.onerror = function(event) {
        if (event.error !== 'interrupted' && event.error !== 'canceled') {
          alert('Playback error. Try a different voice.');
        }
        updatePlayButton(false);
        pauseBtn.style.display = 'none';
      };

      playBtn.disabled = true;
      synth.speak(utterance);
    }

    function pause() {
      if (synth.speaking && !isPaused) {
        synth.pause();
        isPaused = true;
        const icon = playBtn.querySelector('i');
        icon.className = 'fas fa-play';
        playText.textContent = 'Resume';
        playBtn.classList.remove('playing');
        pauseBtn.style.display = 'none';
      }
    }

    function stop() {
      synth.cancel();
      isPaused = false;
      updatePlayButton(false);
      pauseBtn.style.display = 'none';
      updateProgress(0, 100);
    }

    playBtn.addEventListener('click', speak);
    pauseBtn.addEventListener('click', pause);
    stopBtn.addEventListener('click', stop);
    
    rateSlider.addEventListener('input', function(e) {
      rateValue.textContent = `${parseFloat(e.target.value).toFixed(1)}x`;
    });

    window.addEventListener('beforeunload', function() {
      synth.cancel();
    });

    if (localStorage.getItem('audioPlayerExpanded') === 'true') {
      setTimeout(() => {
        expandedPlayer.classList.add('show');
        triggerBtn.classList.add('active');
      }, 100);
    }
  }
})();
</script> <article class="post-content"> <div id="markdown-content"> <p>Designing and developing large-scale distributed real-time data processing systems is a complex undertaking. These systems must handle massive volumes of data, often with strict latency requirements, while maintaining reliability and scalability. Over the years, I’ve encountered various challenges and developed a set of principles to guide the design process. These principles have evolved alongside changing usage patterns and the increasing demands placed on these systems. This guide aims to share these insights, covering key considerations in various stages of the design and implementation process.</p> <h2 id="considerations">Considerations</h2> <p><br></p> <h3 id="1-data-ingestion-and-processing">1. Data Ingestion and Processing</h3> <ul> <li> <strong>Processing Semantics</strong>: Carefully choose the appropriate processing semantics for your use case. “Exactly once” processing guarantees that each message is processed exactly once, while “at least once” processing ensures that messages are processed at least once, but may be processed multiple times. Consider configuring different semantics per use case if needed.</li> <li> <strong>Consistency vs. Availability</strong>: Understand the tradeoffs between consistency (all nodes seeing the same data at the same time) and availability (the system’s ability to respond to requests even during network partitions). Refer to the <a href="https://en.wikipedia.org/wiki/CAP_theorem" rel="external nofollow noopener" target="_blank">CAP theorem</a>, which states that it’s impossible to achieve perfect consistency, availability, and partition tolerance simultaneously.</li> <li> <strong><a href="https://www.gartner.com/reviews/market/in-memory-data-grids" rel="external nofollow noopener" target="_blank">In-Memory Data Grids</a> (IMDGs)</strong>: Consider using IMDGs or caching layers that support transactions, preferably ACID-compliant, for fast access and data consistency. Explore options like <a href="https://microservices.io/patterns/data/saga.html" rel="external nofollow noopener" target="_blank">distributed transaction support in microservices through Sagas</a> or the <a href="https://en.wikipedia.org/wiki/Three-phase_commit_protocol" rel="external nofollow noopener" target="_blank">three-phase commit protocol</a>.</li> <li> <strong>Reproducibility and Workflows</strong>: Design programmatic workflows that allow for independent step re-executions. <a href="https://airflow.apache.org/" rel="external nofollow noopener" target="_blank">Apache Airflow</a> is a popular choice for orchestrating these workflows.</li> <li> <strong>Performance Goals</strong>: Define clear performance goals in terms of throughput (e.g., millions of events per second) and latency (e.g., 99th percentile latency of less than 2 seconds). Modern systems should aim to handle spikes in load without resorting to <a href="https://medium.com/@jayphelps/backpressure-explained-the-flow-of-data-through-software-2350b3e77ce7" rel="external nofollow noopener" target="_blank">backpressure</a>, which can introduce additional latency. However, backpressure might still be relevant in some scenarios, such as when integrating with legacy systems.</li> <li> <strong>State Management</strong>: In real-time systems, state refers to the data that needs to be retained across events to perform computations. This can include aggregates, counters, or other contextual information. Effective state management is crucial for accuracy and correctness. Options include: <ul> <li> <strong>Embedded Key-Value Stores</strong>: Lightweight databases like RocksDB can be embedded within the stream processing engine to store and manage state.</li> <li> <strong>Distributed Databases</strong>: External databases like Cassandra or Redis can be used to store state, providing scalability and fault tolerance.</li> <li> <strong>Stateful Stream Processing Frameworks</strong>: Some frameworks, like Apache Flink, provide built-in mechanisms for managing state, abstracting the underlying storage details.</li> </ul> </li> <li> <strong>Approximation Algorithms and Data Structures</strong>: For certain real-time use cases where exact results are not strictly required, consider using approximation algorithms and probabilistic data structures. These can provide significant performance benefits by sacrificing a small degree of accuracy. Examples include: <ul> <li> <strong>Bloom Filters</strong>: Quickly determine if an element is likely present in a set with high probability. Useful for tasks like duplicate detection or cache filtering.</li> <li> <strong>Count-Min Sketch</strong>: Estimate the frequency of items in a stream with limited memory. Helpful for identifying frequent items or heavy hitters.</li> <li> <strong>HyperLogLog</strong>: Estimate the cardinality (number of unique elements) of a set with very low memory usage. Used for counting unique visitors, unique search queries, etc.</li> <li> <strong>Reservoir Sampling</strong>: Maintain a representative sample of a stream when the full dataset is too large to store.</li> </ul> </li> <li> <strong>Stream Mining</strong>: Stream mining involves extracting knowledge and insights from continuous streams of data in real-time. Unlike traditional data mining, which operates on static datasets, stream mining deals with unbounded data arriving at high velocity. This requires specialized algorithms and techniques to handle the challenges of limited memory, evolving data distributions (concept drift), and the need for immediate results.</li> <li> <strong>Stream Joins</strong>: If your use case involves joining multiple data streams, explore different stream join techniques (e.g., windowed joins, stateful joins) to combine data in real time.</li> </ul> <p><br></p> <p>Conceptual implementation of HypeLogLog in Python:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">hyperloglog</span>  <span class="c1"># Assume a suitable HyperLogLog library is available
</span>
<span class="n">hll</span> <span class="o">=</span> <span class="n">hyperloglog</span><span class="p">.</span><span class="nc">HyperLogLog</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>  <span class="c1"># Create HyperLogLog with 1% error rate
</span>
<span class="k">def</span> <span class="nf">process_visitor_id</span><span class="p">(</span><span class="n">visitor_id</span><span class="p">):</span>
    <span class="n">hll</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nf">hash</span><span class="p">(</span><span class="n">visitor_id</span><span class="p">))</span>

<span class="c1"># (Stream visitor IDs and call process_visitor_id for each ID)
</span>
<span class="n">approximate_count</span> <span class="o">=</span> <span class="n">hll</span><span class="p">.</span><span class="nf">count</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Approximate count of unique visitors:</span><span class="sh">"</span><span class="p">,</span> <span class="n">approximate_count</span><span class="p">)</span>
</code></pre></div></div> <p><br></p> <h3 id="2-service-design">2. Service Design</h3> <ul> <li> <strong>Stateless Services</strong>: Favor stateless services, as they are easier to scale horizontally by adding new instances without the need for state synchronization.</li> <li> <strong>Reactive Microservices:</strong> Adopt reactive principles for responsive, resilient, elastic, and asynchronous message-driven microservices.</li> <li> <strong>RT Reconciliations:</strong> Implement real-time reconciliations in micro-batches based on time or volume to ensure data consistency and identify discrepancies.</li> <li> <strong>Discrepancy Handling:</strong> Design mechanisms to handle discrepancies like missed or duplicate events, which can occur due to network issues or other failures. Offer support for on-demand discrepancy resolutions and re-delivery.</li> <li> <strong>Batch Backfilling:</strong> Enable backfilling from batch processing pipelines or end-of-day (EOD) reconciliations to handle cases where real-time processing fails or encounters significant outages.</li> <li> <strong>Integrations:</strong> Integrate with online feature stores and data catalogs to provide a unified ecosystem for data scientists and other consumers.</li> <li> <strong>Context Sharing:</strong> Explore ways to share real-time context and computation between processes for improved efficiency.</li> <li> <strong>Serialization:</strong> Minimize serialization and deserialization (SerDe) as much as possible. When necessary, choose a format that balances speed, payload size, schema evolution support, and uniformity across components.</li> <li> <strong>API Design</strong>: Choose an appropriate API design for your real-time services: <ul> <li>RESTful APIs: Good for standard request-response interactions.</li> <li>WebSockets: Ideal for bidirectional communication and pushing updates to clients.</li> <li>gRPC: Offers high-performance remote procedure calls with efficient binary serialization.</li> </ul> </li> <li> <strong>Approximate Query Processing</strong>: If your real-time services involve querying data streams, consider using approximate query processing techniques. These can provide fast responses with reasonable accuracy, even for complex queries on large datasets.</li> </ul> <h3 id="3-data-composition">3. Data Composition</h3> <ul> <li> <strong>Schema Management</strong>: Utilize a schema registry to enforce a standard format (like Avro or Protobuf), perform schema validation, and manage schema versions.</li> <li> <strong>Data Transformations</strong>: Define transformations as code for greater flexibility and maintainability. Ensure that these transformations include robust data validation and cleansing steps. This could involve: <ul> <li> <strong>Type checks</strong>: Verify that data values are of the expected types.</li> <li> <strong>Range checks</strong>: Ensure numeric values fall within acceptable ranges.</li> <li> <strong>Referential integrity checks</strong>: Validate relationships between different data entities.</li> <li> <strong>Pattern matching</strong>: Check if string values match specific patterns (e.g., email addresses, phone numbers).</li> <li> <strong>Deduplication</strong>: Identify and remove duplicate records to maintain data integrity.</li> </ul> </li> <li> <strong>Unstructured Data</strong>: Include support for real-time unstructured data processing, as many real-world applications involve unstructured or semi-structured data.</li> <li> <strong>Hybrid Infrastructure</strong>: Be prepared to orchestrate data processing across cloud and on-premises environments, as many organizations operate in hybrid setups.</li> <li> <strong>Data Quality</strong>: In real-time systems, data quality issues can quickly propagate and impact downstream processes.</li> <li> <strong>Data Sketching</strong>: For scenarios where you need to summarize or aggregate large volumes of real-time data, explore data sketching techniques. These create compact summaries that can be used to approximate various statistics (e.g., quantiles, histograms) with high accuracy.</li> <li> <strong>Feature Engineering for Stream Mining</strong>: Design features that are relevant and meaningful for stream mining tasks. This might involve extracting features from raw data, transforming features, or combining multiple features to create composite features.</li> </ul> <h3 id="4-user-experience-ux-and-accessibility">4. User Experience (UX) and Accessibility</h3> <ul> <li> <strong>Unified Serving Layer</strong>: Design a unified serving layer or interface that provides consistent access to data across batch, near-real-time, and real-time consumers. This simplifies integration for client applications and promotes a cohesive experience.</li> <li> <strong>SQL Compatibility</strong>: Where possible, offer ANSI SQL-compliant querying capabilities for components like event transport layers or in-memory data grids. This enables users familiar with SQL to leverage their existing knowledge and tools for data exploration and analysis.</li> <li> <strong>Standard In-Memory Formats</strong>: Utilize standard in-memory formats like <a href="https://arrow.apache.org/" rel="external nofollow noopener" target="_blank">Apache Arrow</a>, especially if your on-disk storage uses columnar formats like Parquet or ORC. This alignment streamlines data transfer between storage and processing layers, enhancing performance for analytical queries.</li> <li> <strong>Self-Service Enablement</strong>: Empower your service tenants with self-service capabilities. Provide intuitive interfaces and tools for them to interact with the real-time data processing framework, allowing them to explore data, trigger ad-hoc queries, and gain insights independently.</li> </ul> <h3 id="5-operations-and-observability">5. Operations and Observability</h3> <ul> <li> <strong>Comprehensive Observability</strong>: Prioritize observability as a fundamental aspect of your design. When dealing with real-time events and in-memory stores, it’s easy to lose track of data flow and processing details. Implement end-to-end event tracing using tools like Jaeger or OpenTracing to gain deep visibility into system behavior.</li> <li> <strong>Monitoring and Alerting</strong>: Establish a robust monitoring and alerting system to proactively detect anomalies, performance bottlenecks, and potential issues. Monitor key metrics like throughput, latency, error rates, and resource utilization. Set up alerts to notify relevant teams when critical thresholds are exceeded.</li> <li> <strong>Event Replays</strong>: Support on-demand event replays, especially if your service allows ad-hoc querying. Consider using replicated or simulated sandbox environments to offload the replay process and avoid impacting the production system.</li> <li> <strong>Federated Operations</strong>: For organizations with complex operational structures, ensure your system can accommodate a federated operations model, where different teams or departments manage specific components or aspects of the system.</li> <li> <strong>Agile and Scalable Infrastructure</strong>: Leverage containerization (e.g., Docker, Kubernetes) to achieve agility and scalability in your infrastructure. This allows you to quickly deploy new instances, scale up or down based on demand, and streamline updates and maintenance.</li> <li> <strong>Accuracy Monitoring</strong>: If you’re using approximation algorithms, monitor the accuracy of the results over time. Ensure that the error bounds remain within acceptable limits for your specific use case. Consider adjusting algorithm parameters or switching to more accurate algorithms if necessary.</li> </ul> <h2 id="resources">Resources</h2> <ol> <li> <p>Here’s a downloadable Google Spreadsheet that you may use to plan and track your RT Data Processing System’s design decisions. <a href="https://docs.google.com/spreadsheets/d/1WFeIXxQFUUHasCLDijlliRY1gt6L2kHbeh7WAa6-vuE/edit?usp=sharing" rel="external nofollow noopener" target="_blank">Access Google Sheets</a></p> </li> <li> <p>Reference Implementation: The following table provides a mapping of Google Cloud Platform (GCP) products and open-source tools that can be utilized to address various considerations when designing and building a real-time data processing system. This table aims to assist in tool selection and provide a starting point for exploring the wide range of options available for each aspect of the system.</p> </li> </ol> <table class="table table-bordered"> <thead> <tr> <th>Category</th> <th>Consideration</th> <th>Google Cloud Platform (GCP) Products</th> <th>Open-Source Tools</th> </tr> </thead> <tbody> <tr> <td><strong>1. Data Ingestion &amp; Processing</strong></td> <td>Data Sources</td> <td>Cloud Pub/Sub, Cloud Dataflow</td> <td>Apache Kafka, Apache NiFi</td> </tr> <tr> <td> </td> <td>Stream Processing</td> <td>Cloud Dataflow, Cloud Dataproc</td> <td>Apache Flink, Apache Spark, Kafka Streams, Apache Storm</td> </tr> <tr> <td> </td> <td>In-Memory Data Grids (IMDGs)</td> <td>Memorystore</td> <td>Redis, Hazelcast, Apache Ignite</td> </tr> <tr> <td> </td> <td>Workflow Orchestration</td> <td>Cloud Composer</td> <td>Apache Airflow</td> </tr> <tr> <td> </td> <td>Approximation Algorithms &amp; Data Structures</td> <td>BigQuery (approximate aggregations)</td> <td>Bloom Filters, Count-Min Sketch, HyperLogLog</td> </tr> <tr> <td> </td> <td>Feature Stores</td> <td>Vertex AI Feature Store</td> <td>Feast</td> </tr> <tr> <td><strong>2. Service Design</strong></td> <td>Stateless Microservices</td> <td>Cloud Run, GKE</td> <td>Kubernetes, Docker</td> </tr> <tr> <td> </td> <td>Reactive Programming</td> <td>N/A (supported in various GCP services)</td> <td>Akka, RxJava, Reactor</td> </tr> <tr> <td> </td> <td>Load Balancing</td> <td>Cloud Load Balancing</td> <td>Nginx, HAProxy</td> </tr> <tr> <td> </td> <td>API Management</td> <td>Apigee</td> <td>Kong, Tyk</td> </tr> <tr> <td><strong>3. Data Composition</strong></td> <td>Schema Registry</td> <td><a href="https://cloud.google.com/pubsub/docs/schemas" rel="external nofollow noopener" target="_blank">Cloud Pub/Sub schemas</a></td> <td>Confluent Schema Registry</td> </tr> <tr> <td> </td> <td>Data Transformations</td> <td>Cloud Dataflow, Cloud Dataproc</td> <td>Apache Beam</td> </tr> <tr> <td> </td> <td>Data Quality</td> <td>Dataplex</td> <td>Great Expectations</td> </tr> <tr> <td> </td> <td>Hybrid/Multi-Cloud Orchestration</td> <td>Refer to <a href="https://cloud.google.com/architecture/hybrid-multicloud" rel="external nofollow noopener" target="_blank">GCP’s Architecture Patterns</a> </td> <td> <a href="https://cloudstack.apache.org/" rel="external nofollow noopener" target="_blank">Apache CloudStack</a>, etc.</td> </tr> <tr> <td><strong>4. UX &amp; Accessibility</strong></td> <td>Unified Serving Layer</td> <td>API Gateway</td> <td>GraphQL</td> </tr> <tr> <td> </td> <td>SQL Compatibility</td> <td>BigQuery</td> <td> <a href="https://calcite.apache.org/" rel="external nofollow noopener" target="_blank">Apache Calcite</a> as an underlying framework</td> </tr> <tr> <td> </td> <td>In-Memory Data Format</td> <td>N/A (supported in various GCP services)</td> <td>Apache Arrow</td> </tr> <tr> <td><strong>5. Operations &amp; Observability</strong></td> <td>Observability &amp; Monitoring</td> <td>Cloud Monitoring, Cloud Logging, Cloud Trace</td> <td>Prometheus, Grafana, Jaeger, OpenTelemetry</td> </tr> </tbody> </table> <p>By incorporating these enhancements, you’ll create a more robust and user-friendly real-time data processing system that caters to the diverse needs of users and operations teams.</p> <p>However, the journey doesn’t end here. The landscape of real-time data processing is constantly evolving, with new technologies, tools, and best practices emerging regularly. Embrace this dynamism, experiment fearlessly, and continuously refine your approach. By staying at the forefront of innovation, you can ensure that your real-time data systems remain agile, efficient, and capable of meeting the ever-growing demands of your business.</p> </div> </article> <style>.post-footer-featured{margin-top:6rem;padding-top:0}.newsletter-featured{background:var(--global-card-bg-color,#fff);border:2px solid var(--global-theme-color,#b509ac);border-radius:24px;padding:3rem;margin-bottom:3rem}.showcase-label-newsletter{display:inline-flex;align-items:center;gap:.5rem;font-size:.875rem;letter-spacing:.15em;text-transform:uppercase;color:var(--global-theme-color,#b509ac);font-weight:700;margin-bottom:1rem}.newsletter-featured h2{font-size:2rem;font-weight:900;margin:0 0 1rem 0;letter-spacing:-0.02em;line-height:1.1;color:var(--global-text-color,#000)}.newsletter-featured p{font-size:1.125rem;color:var(--global-text-color-light,#666);margin-bottom:1.5rem;line-height:1.6}.newsletter-form-featured{display:flex;gap:.75rem;margin-bottom:1rem}.newsletter-form-featured input{flex:1;padding:.875rem 1.25rem;background:var(--global-bg-color,#fff);color:var(--global-text-color,#000);border:1px solid var(--global-divider-color,#e5e5e5);border-radius:12px;font-size:1rem;transition:all .3s}.newsletter-form-featured input:focus{outline:0;border-color:var(--global-theme-color,#b509ac);box-shadow:0 0 0 3px rgba(181,9,172,0.1)}.newsletter-form-featured button{padding:.875rem 2rem;background:var(--global-theme-color,#b509ac);color:white;border:0;border-radius:12px;font-weight:700;font-size:1rem;cursor:pointer;transition:all .3s;white-space:nowrap}.newsletter-form-featured button:hover{transform:translateY(-4px);box-shadow:0 12px 40px rgba(181,9,172,0.3)}.newsletter-links{display:flex;gap:1rem;flex-wrap:wrap;align-items:center;font-size:.875rem;color:var(--global-text-color-light,#666)}.newsletter-links a{color:var(--global-theme-color,#b509ac);text-decoration:none;font-weight:600;transition:opacity .3s}.newsletter-links a:hover{opacity:.7}.share-section-featured{text-align:center;padding:2rem 0 3rem 0;border-bottom:1px solid var(--global-divider-color,#e5e5e5)}.share-section-featured .share-label{font-size:.875rem;text-transform:uppercase;letter-spacing:.1em;color:var(--global-text-color-light,#666);font-weight:600;margin-bottom:1.25rem}.share-buttons-featured{display:flex;gap:1rem;justify-content:center;align-items:center}.share-link-featured{display:inline-flex;align-items:center;gap:.5rem;font-weight:700;color:var(--global-text-color,#000);text-decoration:none;font-size:1rem;transition:gap .3s,color .3s}.share-link-featured:hover{gap:1rem;color:var(--global-theme-color,#b509ac)}.share-link-featured i,.share-link-featured svg{transition:transform .3s;width:18px;height:18px}.share-link-featured:hover i,.share-link-featured:hover svg{transform:translateX(4px)}.related-posts-section{margin-top:3rem;padding-top:0}.related-posts-section h3{font-size:1.75rem;font-weight:800;margin-bottom:2rem;color:var(--global-text-color,#000);text-align:center}@media(max-width:768px){.newsletter-featured{padding:2rem}.newsletter-featured h2{font-size:1.5rem}.newsletter-form-featured{flex-direction:column}.share-buttons-featured{flex-direction:column;gap:.75rem}}</style> <div class="post-footer-featured"> <div class="newsletter-featured"> <div class="showcase-label-newsletter"> <svg width="16" height="16" viewbox="0 0 24 24" fill="currentColor"> <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path> </svg> Strategic Insights </div> <h2>Get More Like This</h2> <p> Join technical leaders from Google, Amazon, and Fortune 500s. Get strategic insights on Data, AI, and Cloud transformation delivered to your inbox. </p> <form class="newsletter-form-featured" action="https://app.loops.so/api/newsletter-form/cm614n2d604nlfy1lfo7vgmo5" method="POST"> <input type="email" name="email" placeholder="your@email.com" required> <button type="submit">Subscribe</button> </form> <div class="newsletter-links"> <span>Free insights • No spam • Unsubscribe anytime</span> <span>•</span> <a href="/archive/">Browse the archive →</a> </div> </div> <div class="share-section-featured"> <div class="share-label">Share This Article</div> <div class="share-buttons-featured"> <a href="https://twitter.com/intent/tweet?text=Designing%20a%20Real%20Time%20Data%20Processing%20System&amp;url=https://subhadipmitra.com/blog/2021/designing-a-real-time-data-processing-system/&amp;via=bassrehab" class="share-link-featured" target="_blank" rel="noopener noreferrer"> Share on X <svg viewbox="0 0 24 24" fill="currentColor"> <path d="M13.6823 10.6218L20.2391 3H18.6854L12.9921 9.61788L8.44486 3H3.2002L10.0765 13.0074L3.2002 21H4.75404L10.7663 14.0113L15.5685 21H20.8131L13.6819 10.6218H13.6823ZM11.5541 13.0956L10.8574 12.0991L5.31391 4.16971H7.70053L12.1742 10.5689L12.8709 11.5655L18.6861 19.8835H16.2995L11.5541 13.096V13.0956Z"></path> </svg> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://subhadipmitra.com/blog/2021/designing-a-real-time-data-processing-system/" class="share-link-featured" target="_blank" rel="noopener noreferrer"> Share on LinkedIn <svg viewbox="0 0 24 24" fill="currentColor"> <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path> </svg> </a> <button onclick="copyLinkFeatured('https://subhadipmitra.com/blog/2021/designing-a-real-time-data-processing-system/')" class="share-link-featured" style="background: none; border: none; cursor: pointer; padding: 0;"> <span class="copy-text">Copy Link</span> <span class="copied-text" style="display: none;">Link Copied!</span> <svg class="copy-icon" viewbox="0 0 24 24" fill="currentColor"> <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path> </svg> <svg class="check-icon" style="display: none;" viewbox="0 0 24 24" fill="currentColor"> <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path> </svg> </button> </div> </div> <div class="related-posts-section"> <h3>Continue Reading</h3> </div> </div> <script>
function copyLinkFeatured(url) {
  navigator.clipboard.writeText(url).then(() => {
    const btn = event.target.closest('button');
    const copyText = btn.querySelector('.copy-text');
    const copiedText = btn.querySelector('.copied-text');
    const copyIcon = btn.querySelector('.copy-icon');
    const checkIcon = btn.querySelector('.check-icon');

    copyText.style.display = 'none';
    copiedText.style.display = 'inline';
    copyIcon.style.display = 'none';
    checkIcon.style.display = 'inline';

    setTimeout(() => {
      copyText.style.display = 'inline';
      copiedText.style.display = 'none';
      copyIcon.style.display = 'inline';
      checkIcon.style.display = 'none';
    }, 2000);
  }).catch(err => {
    console.error('Failed to copy:', err);
    alert('Could not copy link. Please copy manually: ' + url);
  });
}

// Newsletter form handler
(function() {
  const form = document.querySelector('.newsletter-form-featured');
  if (!form) return;

  form.addEventListener('submit', function(event) {
    event.preventDefault();

    const emailInput = form.querySelector('input[name="email"]');
    const submitBtn = form.querySelector('button[type="submit"]');
    const email = emailInput.value;

    // Disable submit button and show loading state
    submitBtn.disabled = true;
    const originalText = submitBtn.textContent;
    submitBtn.textContent = 'Subscribing...';

    // Submit to Loops.so
    const formBody = 'userGroup=&email=' + encodeURIComponent(email);
    fetch(form.action, {
      method: 'POST',
      body: formBody,
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
      },
    })
    .then(res => res.json().then(data => ({ ok: res.ok, data })))
    .then(({ ok, data }) => {
      if (ok) {
        // Success - show confirmation message
        submitBtn.textContent = '✓ Subscribed!';
        submitBtn.style.background = '#22c55e';
        emailInput.value = '';

        // Reset after 3 seconds
        setTimeout(() => {
          submitBtn.textContent = originalText;
          submitBtn.style.background = '';
          submitBtn.disabled = false;
        }, 3000);
      } else {
        // Error from API
        throw new Error(data.message || 'Subscription failed');
      }
    })
    .catch(error => {
      // Show error
      submitBtn.textContent = '✗ Failed';
      submitBtn.style.background = '#ef4444';
      console.error('Newsletter subscription error:', error);

      // Reset after 3 seconds
      setTimeout(() => {
        submitBtn.textContent = originalText;
        submitBtn.style.background = '';
        submitBtn.disabled = false;
      }, 3000);
    });
  });
})();
</script> <style>.related-posts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.related-post-card{background:var(--global-card-bg-color,#fff);border:1px solid var(--global-divider-color,#e5e5e5);border-radius:16px;padding:2rem;transition:all .3s cubic-bezier(0.4,0,0.2,1);position:relative;display:flex;flex-direction:column}.related-post-card:hover{transform:translateY(-4px);box-shadow:0 12px 32px rgba(0,0,0,0.1);border-color:var(--global-theme-color,#b509ac)}.related-post-title{font-size:1.25rem;font-weight:700;line-height:1.3;margin:0 0 .75rem 0;color:var(--global-text-color,#000)}.related-post-title a{color:inherit;text-decoration:none;transition:color .3s}.related-post-title a:hover{color:var(--global-theme-color,#b509ac)}.related-post-meta{font-size:.875rem;color:var(--global-text-color-light,#666);margin-bottom:.75rem}.related-post-excerpt{font-size:.95rem;line-height:1.6;color:var(--global-text-color-light,#666);margin-bottom:1rem;flex-grow:1}.related-post-link{display:inline-flex;align-items:center;gap:.5rem;font-weight:700;color:var(--global-theme-color,#b509ac);text-decoration:none;font-size:.95rem;transition:gap .3s;margin-top:auto}.related-post-link:hover{gap:1rem}.related-post-link svg{width:16px;height:16px;transition:transform .3s}.related-post-link:hover svg{transform:translateX(4px)}.external-link-icon{width:14px;height:14px;opacity:.6;margin-left:.25rem}.no-related-posts{text-align:center;padding:3rem;color:var(--global-text-color-light,#666);font-style:italic}@media(max-width:768px){.related-posts-grid{grid-template-columns:1fr;gap:1rem}.related-post-card{padding:1.5rem}.related-post-title{font-size:1.125rem}}</style> <div class="related-posts-container"> <div class="related-posts-grid"> <article class="related-post-card"> <h4 class="related-post-title"> <a href="/blog/2025/mcp-maturity-model/">The MCP Maturity Model: Evaluating Your Multi-Agent Context Strategy</a> </h4> <div class="related-post-meta"> November 19, 2025 • MCP </div> <p class="related-post-excerpt">A practical framework for evaluating your multi-agent context management strategy. From ad-hoc string concatenation to self-evolving context systems - where does your architecture stand?</p> <a href="/blog/2025/mcp-maturity-model/" class="related-post-link"> Read More <svg viewbox="0 0 24 24" fill="currentColor"> <path d="M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"></path> </svg> </a> </article> <article class="related-post-card"> <h4 class="related-post-title"> <a href="/blog/2025/upir-distributed-systems/">UPIR: What If Distributed Systems Could Write (and Verify) Themselves?</a> </h4> <div class="related-post-meta"> November 15, 2025 • distributed-systems </div> <p class="related-post-excerpt">Lessons from building a framework that automatically generates verified distributed systems - and why I think formal methods, synthesis, and ML need to work together...</p> <a href="/blog/2025/upir-distributed-systems/" class="related-post-link"> Read More <svg viewbox="0 0 24 24" fill="currentColor"> <path d="M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"></path> </svg> </a> </article> <article class="related-post-card"> <h4 class="related-post-title"> <a href="/blog/2025/agent-ready-data-platforms-sarp/">The Data Platform Crisis Hiding Behind AI: Why you have 6 months to pivot</a> </h4> <div class="related-post-meta"> October 17, 2025 • SARP </div> <p class="related-post-excerpt">Enterprise data platforms face a 100,000x query increase from agentic AI. Introducing Symbiotic Agent-Ready Platforms (SARPs) - the architectural paradigm shift needed to survive the...</p> <a href="/blog/2025/agent-ready-data-platforms-sarp/" class="related-post-link"> Read More <svg viewbox="0 0 24 24" fill="currentColor"> <path d="M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"></path> </svg> </a> </article> <article class="related-post-card"> <h4 class="related-post-title"> <a href="/blog/2025/ai-deception/">AI Meta-Cognition - The Observer Effect Series</a> </h4> <div class="related-post-meta"> October 11, 2025 • genai </div> <p class="related-post-excerpt">Frontier AI models from OpenAI, Anthropic, Google &amp; others can detect when they're being tested and modify behavior-challenging AI safety evaluation methods.</p> <a href="/blog/2025/ai-deception/" class="related-post-link"> Read More <svg viewbox="0 0 24 24" fill="currentColor"> <path d="M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"></path> </svg> </a> </article> </div> </div> <br> <br> <div class="hyvor-talk-container"> <style>.hyvor-talk-container{margin-top:4rem;padding-top:3rem;border-top:2px solid var(--global-divider-color,#e5e5e5)}.hyvor-talk-header{margin-bottom:2rem;text-align:center}.hyvor-talk-header h3{font-size:1.75rem;font-weight:800;margin-bottom:.5rem;color:var(--global-text-color,#000)}.hyvor-talk-header p{font-size:1rem;color:var(--global-text-color-light,#666);margin:0}</style> <div class="hyvor-talk-header"> <h3>Join the Discussion</h3> <p>Share your thoughts, ask questions, or provide feedback on this article</p> </div> <div id="hyvor-talk-view"></div> <script type="application/javascript">
    var HYVOR_TALK_WEBSITE = 14339;
    var HYVOR_TALK_CONFIG = {
      url: 'https://subhadipmitra.com/blog/2021/designing-a-real-time-data-processing-system/',
      id: '/blog/2021/designing-a-real-time-data-processing-system/',
      
      title: 'Designing a Real Time Data Processing System',
      
      
      palette: {
        accent: '#b509ac',
        accentText: '#ffffff',
        footerHeader: 'var(--global-text-color)',
        footerHeaderText: 'var(--global-text-color-light)',
        box: 'var(--global-card-bg-color)',
        boxText: 'var(--global-text-color)',
        boxLightText: 'var(--global-text-color-light)',
        backgroundText: 'var(--global-text-color)'
      }
      
    };
  </script> <script async type="application/javascript" src="//talk.hyvor.com/web-api/embed.js"></script> </div> </div> </div> </div> </div> <footer class="modern-footer" role="contentinfo"> <div class="footer-container"> <div class="footer-grid"> <div class="footer-brand"> <h3>Subhadip Mitra</h3> <p> Technical Leader, Inventor, and Researcher building the future of Data &amp; Applied AI. <br>Leading Google Cloud's D&amp;A practice across Southeast Asia. </p> <br> <p><a href="mailto:contact@subhadipmitra.com">contact@subhadipmitra.com</a></p> </div> <div class="footer-section"> <h4>Explore</h4> <ul class="footer-links"> <li><a href="/">About</a></li> <li><a href="/now/">What I'm Doing Now</a></li> <li><a href="/blog/">Blog</a></li> <li><a href="/publications/">Publications</a></li> <li><a href="/repositories/">Repositories</a></li> </ul> </div> <div class="footer-section"> <h4>Connect</h4> <ul class="footer-links"> <li><a href="mailto:contact@subhadipmitra.com">Email</a></li> <li><a href="https://calendly.com/contact-x9nm/30min" target="_blank" rel="external nofollow noopener">Schedule a Call</a></li> <li><a href="https://linkedin.com/in/subhadip-mitra" target="_blank" rel="external nofollow noopener">LinkedIn</a></li> <li><a href="https://github.com/bassrehab" target="_blank" rel="external nofollow noopener">GitHub</a></li> </ul> </div> </div> <div class="footer-bottom"> <div class="footer-copyright"> © 2025 Subhadip Mitra. Some Rights Reserved. Last updated: December 13, 2025. </div> <div class="footer-social"> <a href="https://linkedin.com/in/subhadip-mitra" target="_blank" aria-label="LinkedIn" rel="external nofollow noopener"> <i class="fab fa-linkedin-in"></i> </a> <a href="https://github.com/bassrehab" target="_blank" aria-label="GitHub" rel="external nofollow noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/bassrehab" target="_blank" aria-label="Twitter" rel="external nofollow noopener"> <i class="fab fa-twitter"></i> </a> <a href="mailto:contact@subhadipmitra.com" aria-label="Email"> <i class="fas fa-envelope"></i> </a> </div> </div> </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-TW7YQ5XPC6"></script> <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-TW7YQ5XPC6');
  </script> <script defer src="/assets/js/google-analytics-setup.js?12374742c4b1801ba82226e617af7e2d"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> <script defer src="/assets/js/newsletter.js?c3d0931971ee96e9df74ba70526c3130"></script> </body> </html>