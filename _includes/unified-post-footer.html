<!-- Featured-Style Footer (matches Featured Open Source design) -->

<style>
.post-footer-featured {
  margin-top: 6rem;
  padding-top: 0;
}

/* Newsletter Featured Section - matches Featured Open Source style */
.newsletter-featured {
  background: var(--global-card-bg-color, #fff);
  border: 2px solid var(--global-theme-color, #b509ac);
  border-radius: 24px;
  padding: 3rem;
  margin-bottom: 3rem;
}

.showcase-label-newsletter {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--global-theme-color, #b509ac);
  font-weight: 700;
  margin-bottom: 1rem;
}

.newsletter-featured h2 {
  font-size: 2rem;
  font-weight: 900;
  margin: 0 0 1rem 0;
  letter-spacing: -0.02em;
  line-height: 1.1;
  color: var(--global-text-color, #000);
}

.newsletter-featured p {
  font-size: 1.125rem;
  color: var(--global-text-color-light, #666);
  margin-bottom: 1.5rem;
  line-height: 1.6;
}

.newsletter-form-featured {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 1rem;
}

.newsletter-form-featured input {
  flex: 1;
  padding: 0.875rem 1.25rem;
  background: var(--global-bg-color, #fff);
  color: var(--global-text-color, #000);
  border: 1px solid var(--global-divider-color, #e5e5e5);
  border-radius: 12px;
  font-size: 1rem;
  transition: all 0.3s;
}

.newsletter-form-featured input:focus {
  outline: none;
  border-color: var(--global-theme-color, #b509ac);
  box-shadow: 0 0 0 3px rgba(181, 9, 172, 0.1);
}

.newsletter-form-featured button {
  padding: 0.875rem 2rem;
  background: var(--global-theme-color, #b509ac);
  color: white;
  border: none;
  border-radius: 12px;
  font-weight: 700;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.3s;
  white-space: nowrap;
}

.newsletter-form-featured button:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(181, 9, 172, 0.3);
}

.newsletter-links {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  align-items: center;
  font-size: 0.875rem;
  color: var(--global-text-color-light, #666);
}

.newsletter-links a {
  color: var(--global-theme-color, #b509ac);
  text-decoration: none;
  font-weight: 600;
  transition: opacity 0.3s;
}

.newsletter-links a:hover {
  opacity: 0.7;
}

/* Share Section - matches innovation-link style */
.share-section-featured {
  text-align: center;
  padding: 2rem 0 3rem 0;
  border-bottom: 1px solid var(--global-divider-color, #e5e5e5);
}

.share-section-featured .share-label {
  font-size: 0.875rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--global-text-color-light, #666);
  font-weight: 600;
  margin-bottom: 1.25rem;
}

.share-buttons-featured {
  display: flex;
  gap: 1rem;
  justify-content: center;
  align-items: center;
}

.share-link-featured {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 700;
  color: var(--global-text-color, #000);
  text-decoration: none;
  font-size: 1rem;
  transition: gap 0.3s, color 0.3s;
}

.share-link-featured:hover {
  gap: 1rem;
  color: var(--global-theme-color, #b509ac);
}

.share-link-featured i,
.share-link-featured svg {
  transition: transform 0.3s;
  width: 18px;
  height: 18px;
}

.share-link-featured:hover i,
.share-link-featured:hover svg {
  transform: translateX(4px);
}

/* Related Posts Section */
.related-posts-section {
  margin-top: 3rem;
  padding-top: 0;
}

.related-posts-section h3 {
  font-size: 1.75rem;
  font-weight: 800;
  margin-bottom: 2rem;
  color: var(--global-text-color, #000);
  text-align: center;
}

/* Responsive */
@media (max-width: 768px) {
  .newsletter-featured {
    padding: 2rem;
  }
  
  .newsletter-featured h2 {
    font-size: 1.5rem;
  }
  
  .newsletter-form-featured {
    flex-direction: column;
  }
  
  .share-buttons-featured {
    flex-direction: column;
    gap: 0.75rem;
  }
}
</style>

<!-- FEATURED-STYLE FOOTER -->
<div class="post-footer-featured">
  
  <!-- Newsletter Featured Section -->
  <div class="newsletter-featured">
    <div class="showcase-label-newsletter">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
      </svg>
      Strategic Insights
    </div>
    <h2>Get More Like This</h2>
    <p>
      Join technical leaders from Google, Amazon, and Fortune 500s. Get strategic insights on Data, AI, and Cloud transformation delivered to your inbox.
    </p>
    
    <form class="newsletter-form-featured" 
          action="https://app.loops.so/api/newsletter-form/{{ site.newsletter.endpoint }}"
          method="POST">
      <input type="email" 
             name="email" 
             placeholder="your@email.com" 
             required>
      <button type="submit">Subscribe</button>
    </form>
    
    <div class="newsletter-links">
      <span>Free insights • No spam • Unsubscribe anytime</span>
      <span>•</span>
      <a href="/archive/">Browse the archive →</a>
    </div>
  </div>

  <!-- Share Section -->
  <div class="share-section-featured">
    <div class="share-label">Share This Article</div>
    <div class="share-buttons-featured">
      <!-- X/Twitter -->
      <a href="https://twitter.com/intent/tweet?text={{ page.title | uri_escape }}&url={{ site.url }}{{ page.url }}&via={{ site.twitter_username }}" 
         class="share-link-featured"
         target="_blank"
         rel="noopener noreferrer">
        Share on X
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M13.6823 10.6218L20.2391 3H18.6854L12.9921 9.61788L8.44486 3H3.2002L10.0765 13.0074L3.2002 21H4.75404L10.7663 14.0113L15.5685 21H20.8131L13.6819 10.6218H13.6823ZM11.5541 13.0956L10.8574 12.0991L5.31391 4.16971H7.70053L12.1742 10.5689L12.8709 11.5655L18.6861 19.8835H16.2995L11.5541 13.096V13.0956Z"/>
        </svg>
      </a>

      <!-- LinkedIn -->
      <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ site.url }}{{ page.url }}" 
         class="share-link-featured"
         target="_blank"
         rel="noopener noreferrer">
        Share on LinkedIn
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
        </svg>
      </a>

      <!-- Copy Link -->
      <button onclick="copyLinkFeatured('{{ site.url }}{{ page.url }}')" 
              class="share-link-featured"
              style="background: none; border: none; cursor: pointer; padding: 0;">
        <span class="copy-text">Copy Link</span>
        <span class="copied-text" style="display: none;">Link Copied!</span>
        <svg class="copy-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
        </svg>
        <svg class="check-icon" style="display: none;" viewBox="0 0 24 24" fill="currentColor">
          <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Related Posts Section -->
  <div class="related-posts-section">
    <h3>Continue Reading</h3>
    <!-- Your existing related posts code goes here -->
  </div>

</div>

<script>
function copyLinkFeatured(url) {
  navigator.clipboard.writeText(url).then(() => {
    const btn = event.target.closest('button');
    const copyText = btn.querySelector('.copy-text');
    const copiedText = btn.querySelector('.copied-text');
    const copyIcon = btn.querySelector('.copy-icon');
    const checkIcon = btn.querySelector('.check-icon');

    copyText.style.display = 'none';
    copiedText.style.display = 'inline';
    copyIcon.style.display = 'none';
    checkIcon.style.display = 'inline';

    setTimeout(() => {
      copyText.style.display = 'inline';
      copiedText.style.display = 'none';
      copyIcon.style.display = 'inline';
      checkIcon.style.display = 'none';
    }, 2000);
  }).catch(err => {
    console.error('Failed to copy:', err);
    alert('Could not copy link. Please copy manually: ' + url);
  });
}

// Newsletter form handler
(function() {
  const form = document.querySelector('.newsletter-form-featured');
  if (!form) return;

  form.addEventListener('submit', function(event) {
    event.preventDefault();

    const emailInput = form.querySelector('input[name="email"]');
    const submitBtn = form.querySelector('button[type="submit"]');
    const email = emailInput.value;

    // Disable submit button and show loading state
    submitBtn.disabled = true;
    const originalText = submitBtn.textContent;
    submitBtn.textContent = 'Subscribing...';

    // Submit to Loops.so
    const formBody = 'userGroup=&email=' + encodeURIComponent(email);
    fetch(form.action, {
      method: 'POST',
      body: formBody,
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
      },
    })
    .then(res => res.json().then(data => ({ ok: res.ok, data })))
    .then(({ ok, data }) => {
      if (ok) {
        // Success - show confirmation message
        submitBtn.textContent = '✓ Subscribed!';
        submitBtn.style.background = '#22c55e';
        emailInput.value = '';

        // Reset after 3 seconds
        setTimeout(() => {
          submitBtn.textContent = originalText;
          submitBtn.style.background = '';
          submitBtn.disabled = false;
        }, 3000);
      } else {
        // Error from API
        throw new Error(data.message || 'Subscription failed');
      }
    })
    .catch(error => {
      // Show error
      submitBtn.textContent = '✗ Failed';
      submitBtn.style.background = '#ef4444';
      console.error('Newsletter subscription error:', error);

      // Reset after 3 seconds
      setTimeout(() => {
        submitBtn.textContent = originalText;
        submitBtn.style.background = '';
        submitBtn.disabled = false;
      }, 3000);
    });
  });
})();
</script>